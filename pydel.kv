#:kivy 1.0.9

<Peer>:
    on_press: root.clicked()

    canvas.before:
        Color:
            rgba: 1, 0, 1, 1
        Rectangle:
            size: self.size

    canvas:
        Color:
            rgba: 1, 0, 0, 1
        Ellipse:
            source: root.image_path
            size: root.image_radius * 2, root.image_radius * 2

    Label:
        text: root.name
        font_size: 20
        color: 0, 0, 0, 1
        pos: 0, -root.image_radius - 10

<PyDelMainScreen>:
    fl: floatLay

    canvas.before:
        #BorderImage:
        #    border: 10, 10, 10, 10
        #    source: 'images/background.png'
        #    pos: self.pos
        #    size: self.size
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
    
    canvas:
        Ellipse:
            size: root.image_radius * 2, root.image_radius * 2
            pos: root.center_x - root.image_radius, root.height * 1 / 10
            source: 'images/mond.png' 
        
        Color:
            rgba: 0, 0, 0, root.radar_opacity
        Line:
            circle: root.center_x, root.height * 1 / 10 + root.image_radius, root.radar_radius
            width: root.radar_line_width

    FloatLayout:
        id: floatLay
        size: root.size
        pos: root.pos

        on_size: root.peer_layout()

        #on_press: root.on_press()

        canvas:
            Color:
                # No colour
            
            
